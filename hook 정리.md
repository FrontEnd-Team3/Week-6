# 2ì£¼ì°¨ ê³¼ì œ í’€ì´

# ğŸ˜ Hookì— ëŒ€í•œ ì •ì˜

- Hookì€ React ë²„ì „ 16.8ë¶€í„° React ìš”ì†Œë¡œ ìƒˆë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤. Hookì„ ì´ìš©í•˜ì—¬ ê¸°ì¡´ Class ë°”íƒ•ì˜ ì½”ë“œë¥¼ ì‘ì„±í•  í•„ìš” ì—†ì´ ìƒíƒœ ê°’ê³¼ ì—¬ëŸ¬ Reactì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# ğŸ˜ Hookì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ 

1. **ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì—ì„œ ìƒíƒœë¡œì§ì„ ì¬ì‚¬ìš©í•˜ê¸° ì–´ë µê¸° ë•Œë¬¸ì—**
    
    Hookì€ ê³„ì¸µì˜ ë³€í™” ì—†ì´ ìƒíƒœ ê´€ë ¨ ë¡œì§ì„ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.
    
2. **lifeCycleë¡œ ì¸í•œ ì¤‘ë³µë¡œì§ì„ í”¼í•˜ê¸° ìœ„í•´ì„œ**
    
    ìƒëª…ì£¼ê¸° ë©”ì„œë“œì—ëŠ” ìì£¼ ê´€ë ¨ ì—†ëŠ” ë¡œì§ì´ ì„ì—¬ë“¤ì–´ê°€ê³ ëŠ” í•©ë‹ˆë‹¤. ì˜ˆì‹œë¡œ componentDidMount ì™€ componentDidUpdateëŠ” ì»´í¬ë„ŒíŠ¸ì•ˆì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ ì‚¬ìš© ë˜ì–´ì•¼ í•˜ì§€ë§Œ, ê°™ì€ componentDidMountì—ì„œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒê³¼ ê°™ì€ ê´€ê³„ì—†ëŠ” ë¡œì§ì´ í¬í•¨ë˜ê¸°ë„ í•˜ë©°, componentWillUnmountì—ì„œ cleanup ë¡œì§ì„ ìˆ˜í–‰í•˜ê¸°ë„ í•©ë‹ˆë‹¤.
    
3. **classì˜ thisí‚¤ì›Œë“œë¡œ ì¸í•œ ë¬¸ì œ**
    
    React ì—ì„œì˜ Class ì‚¬ìš©ì„ ìœ„í•´ì„œëŠ” JavaScriptì˜ this í‚¤ì›Œë“œê°€ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ì•Œì•„ì•¼ë§Œ í•©ë‹ˆë‹¤.
    JavaScriptì˜ thisí‚¤ì›Œë“œëŠ” ëŒ€ë¶€ë¶„ì˜ ë‹¤ë¥¸ ì–¸ì–´ì—ì„œì™€ëŠ” ë‹¤ë¥´ê²Œ ì‘ë™í•¨ìœ¼ë¡œ ì‚¬ìš©ìì—ê²Œ í° í˜¼ë€ì„ ì£¼ì—ˆìœ¼ë©°, ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ê³¼ êµ¬ì„±ì„ ë§¤ìš° ì–´ë µê²Œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ìë“¤ì€ props, state, ê·¸ë¦¬ê³  top-down ë°ì´í„° íë¦„ì„ ì™„ë²½í•˜ê²Œ í•˜ê³ ë„, Classì˜ ì´í•´ì—ëŠ” ì–´ë ¤ì›€ì„ ê²ªì–´ì™”ìŠµë‹ˆë‹¤.
    
4. **ë³µì¡í•œ ì½”ë“œë¥¼ ê°„ë‹¨í•˜ê²Œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.**
    
    Hookì„ í†µí•´ ì„œë¡œ ë¹„ìŠ·í•œ ê²ƒì„ ì‘ì€ í•¨ìˆ˜ì˜ ë¬¶ìŒìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‚˜ëˆ„ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    
- ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´, Hookì€ Classì—†ì´ React ê¸°ëŠ¥ë“¤ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì œì‹œí•©ë‹ˆë‹¤.
- ê°œë…ì ìœ¼ë¡œ React ì»´í¬ë„ŒíŠ¸ëŠ” í•¨ìˆ˜ì— ë” ê°€ê¹Œì›Œ ì‚¬ìš©ìê°€ ì´í•´í•˜ê¸° ì‰½ìŠµë‹ˆë‹¤.

# ğŸ˜ ê·¸ë˜ì„œ Hookì´ ë­”ë°?

> Class ë°”íƒ•ì˜ ì½”ë“œë¥¼ ì‘ì„±í•  í•„ìš” ì—†ì´ ìƒíƒœ ê°’ê³¼ ì—¬ëŸ¬ Reactì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œí•©ë‹ˆë‹¤.
> 

> Hookì€ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ React stateì™€ ìƒëª…ì£¼ê¸° ê¸°ëŠ¥(lifecycle features)ì„ ì—°ë™í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í•¨ìˆ˜ ë“±ì´ ìˆìŠµë‹ˆë‹¤.
> 

> Hookì€ class ì•ˆì—ì„œëŠ” ë™ì‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëŒ€ì‹  class ì—†ì´ Reactë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê²ƒì…ë‹ˆë‹¤.
> 

# ğŸ˜ Hooksì˜ ì¢…ë¥˜

- useState
    
    [state, setState] = ë°°ì—´ í˜•íƒœë¡œ ë¦¬í„´ì‹œì¼œ ì¤ë‹ˆë‹¤.
    
    useStateëŠ” í˜„ì¬ì˜ state ê°’ê³¼ ì´ ê°’ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜ë¥¼ ìŒìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤.
    
    state: í˜„ì¬ ìƒíƒœê°’  /  setState: ë³€ê²½í•  ìƒíƒœê°’
    
    setState í•¨ìˆ˜ë¡œ ë³€ê²½í• ë•Œë§ˆë‹¤ ì»´í¬ë„ŒíŠ¸ëŠ” ì¬ëœë”ë§ì´ ë©ë‹ˆë‹¤.
    
    stateë¥¼ ë³€ê²½í• ë•Œ ìƒˆstateê°€ ì´ì „ stateì™€ ì—°ê´€ì´ ë˜ì–´ìˆë‹¤ë©´ ì½œë°±í•¨ìˆ˜ë¥¼ ë„£ì–´ì£¼ëŠ”ê²Œ ì¢‹ìŠµë‹ˆë‹¤.
    
    ```jsx
    setState((prevState) => {
      return newState;
    });
    ```
    
    useStateì‚¬ìš©í•´ì„œ ì´ˆê¸°ê°’ì„ ë°›ì•„ì˜¬ë•Œ ë¬´ê±°ìš´ê±¸ ë°›ì•„ì˜¤ê²Œ ëœë‹¤ë©´ useStateì˜ ì¸ìë¡œ ì½œë°±í•¨ìˆ˜ë¥¼ ë„£ì–´ì£¼ë©´ ë§¨ ì²˜ìŒ ëœë”ë§ ë ë•Œë§Œ ì‹¤í–‰ë˜ê²Œ í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.
    
    ```jsx
    import { useState } from "react";
    
    function App() {
      const [names, setName] = useState(["ë°•ìœ¤ê²½", "Latte"]);
      const [input, setInput] = useState("");
      const handleInputChange = (e) => {
        setInput(e.target.value);
      };
    
      const handleUpload = () => {
        setName((prevState) => {
          return [input, ...prevState];
        });
      };
    
      return (
        <>
          <input type="text" value={input} onChange={handleInputChange} />
          <button onClick={handleUpload}>Upload</button>
          {names.map((name, i) => {
            return <p key={i}>{name}</p>;
          })}
        </>
      );
    }
    ```
    
- useRef
    
    í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ useRefë¥¼ ë¶€ë¥´ë©´ refì˜ objectë¥¼ ë°˜í™˜í•´ì¤ë‹ˆë‹¤.
    
    ```jsx
    const ref = useRef(value)
    ```
    
    ì¼ë°˜ì ì¸ ìœ ìŠ¤ì¼€ì´ìŠ¤ëŠ” ìì‹ì—ê²Œ ëª…ë ¹ì ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤.
    
    ```jsx
    function TextInputWithFocusButton() {
      const inputEl = useRef(null);
      const onButtonClick = () => {
        // `current` points to the mounted text input element
        inputEl.current.focus();
      };
      return (
        <>
          <input ref={inputEl} type="text" />
          <button onClick={onButtonClick}>Focus the input</button>
        </>
      );
    }
    ```
    
    1. DOMì— ì ‘ê·¼í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.
    2. useRef()ëŠ” ìˆœìˆ˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ë¥¼ ìƒì„±í•˜ê¸° ë•Œë¬¸í•˜ê¸° ë•Œë¬¸ì— ref ì†ì„±ë³´ë‹¤ ìœ ìš©í•©ë‹ˆë‹¤.
    3. ë³¸ì§ˆì ìœ¼ë¡œ useRefëŠ” .current í”„ë¡œí¼í‹°ì— ë³€ê²½ ê°€ëŠ¥í•œ ê°’ì„ ë‹´ê³  ìˆëŠ” "ìƒì"ë¼ê³  í‘œí˜„í•©ë‹ˆë‹¤.
    
- useCallback
    
    ```jsx
    const memoizedCallback = useCallback(
      () => {
        doSomething(a, b);
      },
      [a, b],
    );
    ```
    
    - **ë©”ëª¨ì´ì œì´ì…˜**ëœ ì½œë°±ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
        
        ***ë©”ëª¨ì´ì œì´ì…˜(memoization)ì€ ì»´í“¨í„° í”„ë¡œê·¸ë¨ì´ ë™ì¼í•œ ê³„ì‚°ì„ ë°˜ë³µí•´ì•¼ í•  ë•Œ, ì´ì „ì— ê³„ì‚°í•œ ê°’ì„ ë©”ëª¨ë¦¬ì— ì €ì¥í•¨ìœ¼ë¡œì¨ ë™ì¼í•œ ê³„ì‚°ì˜ ë°˜ë³µ ìˆ˜í–‰ì„ ì œê±°í•˜ì—¬ í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì†ë„ë¥¼ ë¹ ë¥´ê²Œ í•˜ëŠ” ê¸°ìˆ ì´ë‹¤. ë™ì  ê³„íšë²•ì˜ í•µì‹¬ì´ ë˜ëŠ” ê¸°ìˆ ì´ë‹¤.***
        
    - ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì°¸ì¡°ì˜ ë™ì¼ì„±ì— ì˜ì¡±ì ì¸ ìµœì í™”ëœ ìì‹ ì»´í¬ë„ŒíŠ¸ì— ì½œë°±ì„ ì „ë‹¬í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤
- useMemo
    
    ```jsx
    const memoizedValue = useMemo(() => computeExpensiveValue(a, b), [a, b]);
    ```
    
    1. ë©”ëª¨ì´ì œì´ì…˜ëœ ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
    2. useMemoëŠ” ì˜ì¡´ì„±ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œë§Œ ë©”ëª¨ì´ì œì´ì…˜ëœ ê°’ì„ ë‹¤ì‹œ ê³„ì‚°í•˜ì—¬ ëª¨ë“  ë Œë”ë§ ì‹œ ê³ ë¹„ìš© ê³„ì‚°ì„ ë°©ì§€í•´ ìµœì í™” í•´ì¤ë‹ˆë‹¤.
    3. useMemoë¡œ ì „ë‹¬ëœ í•¨ìˆ˜ëŠ” ë Œë”ë§ ì¤‘ì— ì‹¤í–‰ëœë‹¤ëŠ” ê²ƒì„ ê¸°ì–µí•˜ì„¸ìš”. í†µìƒì ìœ¼ë¡œ ë Œë”ë§ ì¤‘ì—ëŠ” í•˜ì§€ ì•ŠëŠ” ê²ƒì„ ì´ í•¨ìˆ˜ ë‚´ì—ì„œ ì ìš©í•˜ë©´ ì•ˆë©ë‹ˆë‹¤.
    
    ğŸ“Œ ì‚¬ìš©ë°©ë²•
    
    1. reactì—ì„œ useMemoë¥¼ import í•œë‹¤.
    2. í•¨ìˆ˜ë¥¼ë¥¼ useMemoë¡œ ê°ì‹¼ë‹¤.
    
    ```jsx
    function Component({ a, b }) {
    	const result = useMemo(() => compute(a, b), [a, b]);
    	
    	return <div>{result}</div>
    }
    ```
    
- React.memo
    
    <aside>
    ğŸ’¡ React.memoëŠ”Â [ê³ ì°¨ ì»´í¬ë„ŒíŠ¸(Higher Order Component)](https://ko.reactjs.org/docs/higher-order-components.html)ì…ë‹ˆë‹¤.
    
    </aside>
    
    1. ì»´í¬ë„ŒíŠ¸ê°€ ë™ì¼í•œ propsë¡œ ë™ì¼í•œ ê²°ê³¼ë¥¼ ë Œë”ë§í•´ë‚¸ë‹¤ë©´, React.memoë¥¼ í˜¸ì¶œí•˜ê³  ê²°ê³¼ë¥¼ ë©”ëª¨ì´ì§•(Memoizing)í•˜ë„ë¡ ë˜í•‘í•˜ì—¬ ê²½ìš°ì— ë”°ë¼ ì„±ëŠ¥ í–¥ìƒì„ ëˆ„ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦‰, ReactëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ì§€ ì•Šê³  ë§ˆì§€ë§‰ìœ¼ë¡œ ë Œë”ë§ëœ ê²°ê³¼ë¥¼ ì¬ì‚¬ìš©í•©ë‹ˆë‹¤.
    2. ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ë˜ë©´ ëª¨ë“  ìì‹ ì»´í¬ë„ŒíŠ¸ ë˜í•œ ë Œë”ë§ ë˜ëŠ”ë° propsê°€ ë³€ê²½ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ìì‹ ì»´í¬ë„ŒíŠ¸ëŠ” ë Œë”ë§ ë  í•„ìš”ê°€ ì—†ë‹¤. ì´ë•Œ React.memo í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„ ë°©ì§€í•´ ì¤ë‹ˆë‹¤.
    - React.memoëŠ” props ë³€í™”ì—ë§Œ ì˜í–¥ì„ ì¤€ë‹¤.
    - propsê°€ ë³µì¡í•œ ê°ì²´ì¸ ê²½ìš° React.memoëŠ” ì–•ì€ ë¹„êµë§Œ í•œë‹¤.
    - ë‹¤ë¥¸ ë¹„êµë¥¼ ì›í•˜ë©´ React.memoì˜ ë‘ ë²ˆì§¸ ì¸ìë¡œ ë¹„êµí•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ ë„˜ê²¨ì£¼ë©´ ëœë‹¤.
    
    ğŸ“Œ React.memoë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°?
    
    - í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì¸ ê²½ìš°
    - ì»´í¬ë„ŒíŠ¸ê°€ ê°™ì€ propsë¡œ ìì£¼ ë Œë”ë§ ë˜ëŠ” ê²½ìš°
    - ë¬´ê²ê³  ë³µì¡í•œ ì—°ì‚°ì´ ìˆëŠ” ê²½ìš°
    
    ğŸ“Œ  React.memoë¥¼ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ëŠ” ê²½ìš°?
    
    - í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì¸ ê²½ìš° pureì»´í¬ë„ŒíŠ¸ë¥¼ í™•ì¥í•´ì„œ ì‚¬ìš©í•˜ê±°ë‚˜ shouldComponentUpdate()í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.
    - ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ë¥¸ propsë¡œ ìì£¼ ë Œë”ë§ ë˜ëŠ” ê²½ìš°
    - ê°€ë²¼ìš´ í”„ë¡œì íŠ¸ì¸ ê²½ìš°
    
    ğŸ“Œ ì‚¬ìš©ë°©ë²•
    
    1. reactì—ì„œ Reactë¥¼ import í•œë‹¤.
    2. ì»´í¬ë„ŒíŠ¸ë¥¼ React.memoë¡œ ê°ì‹¼ë‹¤.
    
    ğŸ“Œ  React.memoì™€ use.Memoì˜ ê³µí†µì 
    
    - propsê°€ ë³€í•˜ì§€ ì•Šìœ¼ë©´ ë¦¬ë Œë”ë§ ë˜ì§€ ì•Šê³  ì´ì „ì˜ ë©”ëª¨ì´ì¦ˆëœ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤.
    
    ğŸ“Œ  React.memoì™€ use.Memoì˜ ì°¨ì´ì 
    
    - React.memoëŠ” ê³ ì°¨ ì»´í¬ë„ŒíŠ¸, useMemoëŠ” React Hookì´ë‹¤.
    - React.memoëŠ” í´ë˜ìŠ¤í˜• í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ ëª¨ë‘ ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ë§Œ useMemoëŠ” í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.
- useEffect
    
    ```jsx
    import React, { useState, useEffect } from 'react';
    
    function FriendStatus(props) {
      const [isOnline, setIsOnline] = useState(null);
    
      function handleStatusChange(status) {
        setIsOnline(status.isOnline);
      }
    
      useEffect(() => {
        ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);
        return () => {
          ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);
        };
      });
    
      if (isOnline === null) {
        return 'Loading...';
      }
      return isOnline ? 'Online' : 'Offline';
    }
    ```
    
    - useEffectëŠ” í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ì´ëŸ° side effectsë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.
    - useEffectë¥¼ ì‚¬ìš©í•˜ë©´, ReactëŠ” DOMì„ ë°”ê¾¼ ë’¤ì— â€œeffectâ€ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ê²ƒì…ë‹ˆë‹¤
    - Effectë¥¼ â€œí•´ì œâ€í•  í•„ìš”ê°€ ìˆë‹¤ë©´, í•´ì œí•˜ëŠ” í•¨ìˆ˜ë¥¼ ë°˜í™˜í•´ì£¼ë©´ ë©ë‹ˆë‹¤.
    - class ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ìƒëª…ì£¼ê¸° ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ ê°ê° ìª¼ê°œì„œ ë„£ì–´ì•¼ë§Œ í–ˆë‹¤ë©´ Hookë¥¼ ì‚¬ìš©í•˜ë©´ ì½”ë“œë¥¼ í•œêµ°ë°ì— ëª¨ì•„ì„œ ì‘ì„± í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

# ğŸ˜ Hook ì‚¬ìš© ê·œì¹™

- ìµœìƒìœ„ì—ì„œë§Œ Hookì„ í˜¸ì¶œí•´ì•¼ í•©ë‹ˆë‹¤. ë°˜ë³µë¬¸, ì¡°ê±´ë¬¸, ì¤‘ì²©ëœ í•¨ìˆ˜ ë‚´ì—ì„œ Hookì„ ì‹¤í–‰í•˜ì§€ ë§ˆì„¸ìš”.
- React í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œë§Œ Hookì„ í˜¸ì¶œí•´ì•¼ í•©ë‹ˆë‹¤. ì¼ë°˜ Javascript í•¨ìˆ˜ì—ì„œëŠ” Hookì„ í˜¸ì¶œí•˜ë©´ ì•ˆë©ë‹ˆë‹¤.